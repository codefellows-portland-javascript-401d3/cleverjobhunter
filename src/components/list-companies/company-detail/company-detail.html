<!--template for detailed company view-->

<section ng-class="$ctrl.styles.companyDetail">
    <md-card>
        <md-card-header>
            <md-card-header-text>
            <span class="md-title">{{$ctrl.company.name}}</span>
            <span class="md-subhead">{{$ctrl.company.location}}</span>
            </md-card-header-text>
        </md-card-header>
        <md-card-content>
            <h4>Action Items:</h4>
            <md-list flex ng-repeat="actionItem in $ctrl.actionItems">
                <md-list-item class="md-3-line">
                    <md-button class="md-secondary md-icon-button" ng-click="$ctrl.complete(actionItem._id)">Action Completed</md-button>
                    <div class="md-list-item-text" layout="column">
                    <p>Date Due: {{actionItem.dateDue | date: 'shortDate'}} - Action: {{actionItem.action}}</p>
                    </div>
                </md-list-item>
            </md-list>
            <md-divider></md-divider>

            <p>Services Offered: {{$ctrl.company.service}}</p>
            <p>Company Info: {{$ctrl.company.info}}</p>
            <p>Tech Stack: {{$ctrl.company.tech}}</p>
        </md-card-content>
        <md-card-header>
            <md-card-header-text>
            <span class="md-title">Company Contacts</span>
            </md-card-header-text>
        </md-card-header>
        <md-card-content>
            <p ng-repeat="contact in $ctrl.companyContacts">{{contact.name || 'No company contacts'}}</p>
        </md-card-content>
        <md-list>
          <md-header>Company Pros:</md-header>
          <md-list-item ng-repeat="pro in $ctrl.company.pros">
            <p> {{ pro.pro || 'No Pros Yet'}} </p>
          </md-list-item>
          <md-divider></md-divider>
        </md-list>
        <md-list>
          <md-header>Company Cons:</md-header>
          <md-list-item ng-repeat="con in $ctrl.company.cons">
            <p> {{ con.con || 'No Cons Yet'}} </p>
          </md-list-item>
          <md-divider></md-divider>
        </md-list>
        <md-list>
          <md-header>Questions:</md-header>
          <md-list-item ng-repeat="question in $ctrl.company.questions">
            <p> {{ question.question || 'No Questions Yet'}} </p>
          </md-list-item>
          <md-divider></md-divider>
        </md-list>

        <md-card-actions layout="row" layout-align="end center">
            <md-button class="md-secondary md-icon-button"
            ui-sref="actions({parentId: $ctrl.company._id, which: $ctrl.which, parentName: $ctrl.company.name})"
            >View Current Action Items
            </md-button>
            <!-- <md-button>Questions</md-button> -->
            <md-button ng-click="$ctrl.newActionItem($event)">Add Action Item</md-button>
            <md-button ng-click="$ctrl.edit()">Edit Company<md-button>
        </md-card-actions>
    </md-card>
</section>
